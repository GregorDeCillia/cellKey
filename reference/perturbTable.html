<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>perturbTable — perturbTable • cellKey</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="perturbTable — perturbTable" />

<meta property="og:description" content="compute perturbed tables containing counts and continous variables." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cellKey</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.15.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/introduction.html">Introduction to the cellKey-Package</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>perturbTable</h1>
    
    <div class="hidden name"><code>perturbTable.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>compute perturbed tables containing counts and continous variables.</p>
    
    </div>

    <pre class="usage"><span class='fu'>perturbTable</span>(<span class='no'>inp</span>, <span class='no'>dimList</span>, <span class='kw'>countVars</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>numVars</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>by</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>weightVar</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>inp</th>
      <td><p>an object of class <code><a href='pert_inputdat-class.html'>pert_inputdat-class</a></code>
generated with <code><a href='ck_create_input.html'>ck_create_input</a></code></p></td>
    </tr>
    <tr>
      <th>dimList</th>
      <td><p>a list containing slots for each variable that should be
tabulated. Each slot consists of a <code>data.frame</code> or <code>data.table</code>
with columns <code>levels</code> and <code>codes</code> specifiying the
hierarchies of the variables.</p></td>
    </tr>
    <tr>
      <th>countVars</th>
      <td><p>(character) vector of numerical variables that should be
counted and perturbed; must be 0/1 coded.</p></td>
    </tr>
    <tr>
      <th>numVars</th>
      <td><p>(character) vector of numerical variables that
should be tabulated or <code>NULL</code></p></td>
    </tr>
    <tr>
      <th>by</th>
      <td><p><code>NULL</code> or a scalar character. If specified, it is possible to use a valid variable
name being 0/1 coded that will be used to create the perturbation of all variables
specified in <code>numVars</code> only for subgroups defined by the specified count variable. If the
variable is not listed in argument <code>countVars</code> it will be automatically added. If not specified or
<code>NULL</code>, the table will be based on all units in the microdata.</p></td>
    </tr>
    <tr>
      <th>weightVar</th>
      <td><p>(character) vector of variable holding sampling
weights or <code>NULL</code></p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>an object of class <code><a href='pert_table-class.html'>pert_table-class</a></code>.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='https://www.unece.org/fileadmin/DAM/stats/documents/ece/ces/ge.46/2013/Topic_1_ABS.pdf'>https://www.unece.org/fileadmin/DAM/stats/documents/ece/ces/ge.46/2013/Topic_1_ABS.pdf</a></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## loading testdata and adding record keys (for abs-algorithm)</span>
<span class='no'>dat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ck_create_testdata.html'>ck_create_testdata</a></span>()

<span class='co'>## create some 0/1 variables that should be perturbed later</span>
<span class='no'>dat</span>[,<span class='no'>cnt_females</span><span class='kw'>:=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/ifelse'>ifelse</a></span>(<span class='no'>sex</span><span class='kw'>==</span><span class='st'>"male"</span>, <span class='fl'>0</span>, <span class='fl'>1</span>)]</div><div class='output co'>#&gt;       urbrur roof walls water electcon relat    sex        age hhcivil expend
#&gt;    1:      2    4     3     3        1     1   male age_group3       2   9093
#&gt;    2:      2    4     3     3        1     2 female age_group3       2   2734
#&gt;    3:      2    4     3     3        1     3   male age_group1       1   2652
#&gt;    4:      2    4     3     3        1     3   male age_group1       1   1807
#&gt;    5:      2    4     2     3        1     1   male age_group4       2    671
#&gt;   ---                                                                        
#&gt; 4576:      2    4     3     4        1     2 female age_group3       2   3696
#&gt; 4577:      2    4     3     4        1     3   male age_group1       1    282
#&gt; 4578:      2    4     3     4        1     3   male age_group1       1    840
#&gt; 4579:      2    4     3     4        1     3 female age_group1       1   6258
#&gt; 4580:      2    4     3     4        1     3   male age_group1       1   7019
#&gt;       income savings ori_hid sampling_weight household_weights cnt_females
#&gt;    1:   5780      12       1              35          25.00000           0
#&gt;    2:   2530      28       1              71          25.00000           1
#&gt;    3:   6920     550       1              63          25.00000           0
#&gt;    4:   7960     870       1              67          25.00000           0
#&gt;    5:   9030      20       2              48          16.66667           0
#&gt;   ---                                                                     
#&gt; 4576:   7900     278    1000              52          16.66667           1
#&gt; 4577:   1420     987    1000              29          16.66667           0
#&gt; 4578:   8900     684    1000              34          16.66667           0
#&gt; 4579:   3880     294    1000              40          16.66667           1
#&gt; 4580:   4830     911    1000              62          16.66667           0</div><div class='input'><span class='no'>dat</span>[,<span class='no'>cnt_males</span><span class='kw'>:=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/ifelse'>ifelse</a></span>(<span class='no'>sex</span><span class='kw'>==</span><span class='st'>"male"</span>, <span class='fl'>1</span>, <span class='fl'>0</span>)]</div><div class='output co'>#&gt;       urbrur roof walls water electcon relat    sex        age hhcivil expend
#&gt;    1:      2    4     3     3        1     1   male age_group3       2   9093
#&gt;    2:      2    4     3     3        1     2 female age_group3       2   2734
#&gt;    3:      2    4     3     3        1     3   male age_group1       1   2652
#&gt;    4:      2    4     3     3        1     3   male age_group1       1   1807
#&gt;    5:      2    4     2     3        1     1   male age_group4       2    671
#&gt;   ---                                                                        
#&gt; 4576:      2    4     3     4        1     2 female age_group3       2   3696
#&gt; 4577:      2    4     3     4        1     3   male age_group1       1    282
#&gt; 4578:      2    4     3     4        1     3   male age_group1       1    840
#&gt; 4579:      2    4     3     4        1     3 female age_group1       1   6258
#&gt; 4580:      2    4     3     4        1     3   male age_group1       1   7019
#&gt;       income savings ori_hid sampling_weight household_weights cnt_females
#&gt;    1:   5780      12       1              35          25.00000           0
#&gt;    2:   2530      28       1              71          25.00000           1
#&gt;    3:   6920     550       1              63          25.00000           0
#&gt;    4:   7960     870       1              67          25.00000           0
#&gt;    5:   9030      20       2              48          16.66667           0
#&gt;   ---                                                                     
#&gt; 4576:   7900     278    1000              52          16.66667           1
#&gt; 4577:   1420     987    1000              29          16.66667           0
#&gt; 4578:   8900     684    1000              34          16.66667           0
#&gt; 4579:   3880     294    1000              40          16.66667           1
#&gt; 4580:   4830     911    1000              62          16.66667           0
#&gt;       cnt_males
#&gt;    1:         1
#&gt;    2:         0
#&gt;    3:         1
#&gt;    4:         1
#&gt;    5:         1
#&gt;   ---          
#&gt; 4576:         0
#&gt; 4577:         1
#&gt; 4578:         1
#&gt; 4579:         0
#&gt; 4580:         1</div><div class='input'><span class='no'>dat</span>[,<span class='no'>cnt_highincome</span><span class='kw'>:=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/ifelse'>ifelse</a></span>(<span class='no'>income</span><span class='kw'>&gt;=</span><span class='fl'>9000</span>, <span class='fl'>1</span>, <span class='fl'>0</span>)]</div><div class='output co'>#&gt;       urbrur roof walls water electcon relat    sex        age hhcivil expend
#&gt;    1:      2    4     3     3        1     1   male age_group3       2   9093
#&gt;    2:      2    4     3     3        1     2 female age_group3       2   2734
#&gt;    3:      2    4     3     3        1     3   male age_group1       1   2652
#&gt;    4:      2    4     3     3        1     3   male age_group1       1   1807
#&gt;    5:      2    4     2     3        1     1   male age_group4       2    671
#&gt;   ---                                                                        
#&gt; 4576:      2    4     3     4        1     2 female age_group3       2   3696
#&gt; 4577:      2    4     3     4        1     3   male age_group1       1    282
#&gt; 4578:      2    4     3     4        1     3   male age_group1       1    840
#&gt; 4579:      2    4     3     4        1     3 female age_group1       1   6258
#&gt; 4580:      2    4     3     4        1     3   male age_group1       1   7019
#&gt;       income savings ori_hid sampling_weight household_weights cnt_females
#&gt;    1:   5780      12       1              35          25.00000           0
#&gt;    2:   2530      28       1              71          25.00000           1
#&gt;    3:   6920     550       1              63          25.00000           0
#&gt;    4:   7960     870       1              67          25.00000           0
#&gt;    5:   9030      20       2              48          16.66667           0
#&gt;   ---                                                                     
#&gt; 4576:   7900     278    1000              52          16.66667           1
#&gt; 4577:   1420     987    1000              29          16.66667           0
#&gt; 4578:   8900     684    1000              34          16.66667           0
#&gt; 4579:   3880     294    1000              40          16.66667           1
#&gt; 4580:   4830     911    1000              62          16.66667           0
#&gt;       cnt_males cnt_highincome
#&gt;    1:         1              0
#&gt;    2:         0              0
#&gt;    3:         1              0
#&gt;    4:         1              0
#&gt;    5:         1              1
#&gt;   ---                         
#&gt; 4576:         0              0
#&gt; 4577:         1              0
#&gt; 4578:         1              0
#&gt; 4579:         0              0
#&gt; 4580:         1              0</div><div class='input'>
<span class='co'>## create record keys</span>
<span class='no'>dat</span>$<span class='no'>rkeys</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ck_generate_rkeys.html'>ck_generate_rkeys</a></span>(<span class='kw'>dat</span><span class='kw'>=</span><span class='no'>dat</span>, <span class='kw'>max_val</span><span class='kw'>=</span><span class='fl'>2</span>*<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/nrow'>nrow</a></span>(<span class='no'>dat</span>), <span class='kw'>type</span><span class='kw'>=</span><span class='st'>"abs"</span>, <span class='kw'>verbose</span><span class='kw'>=</span><span class='fl'>TRUE</span>)

<span class='co'>## loading test perturbation in abs- and destatis format</span>
<span class='no'>pTable_abs</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ck_create_pTable.html'>ck_create_pTable</a></span>(<span class='kw'>D</span><span class='kw'>=</span><span class='fl'>5</span>, <span class='kw'>V</span><span class='kw'>=</span><span class='fl'>3</span>, <span class='kw'>pTableSize</span><span class='kw'>=</span><span class='fl'>70</span>, <span class='kw'>type</span><span class='kw'>=</span><span class='st'>"abs"</span>)
<span class='no'>pTable_destatis</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ck_create_pTable.html'>ck_create_pTable</a></span>(<span class='kw'>D</span><span class='kw'>=</span><span class='fl'>5</span>, <span class='kw'>V</span><span class='kw'>=</span><span class='fl'>3</span>, <span class='kw'>type</span><span class='kw'>=</span><span class='st'>"destatis"</span>)

<span class='co'>## perturbation tables and parameters for numerical variables</span>
<span class='no'>sTable</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ck_generate_sTable.html'>ck_generate_sTable</a></span>(<span class='kw'>smallC</span><span class='kw'>=</span><span class='fl'>12</span>)
<span class='no'>mTable</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0.6</span>,<span class='fl'>0.4</span>,<span class='fl'>0.2</span>)

<span class='co'>## creating perturbation objects that are later used</span>
<span class='co'>## as inputs in perturbTable()</span>
<span class='no'>pert_params_abs</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ck_create_pert_params.html'>ck_create_pert_params</a></span>(
  <span class='kw'>bigN</span><span class='kw'>=</span><span class='fl'>17312941</span>, <span class='kw'>smallN</span><span class='kw'>=</span><span class='fl'>12</span>,
  <span class='kw'>pTable</span><span class='kw'>=</span><span class='no'>pTable_abs</span>,
  <span class='kw'>sTable</span><span class='kw'>=</span><span class='no'>sTable</span>,
  <span class='kw'>mTable</span><span class='kw'>=</span><span class='no'>mTable</span>)

<span class='no'>pert_params_destatis</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ck_create_pert_params.html'>ck_create_pert_params</a></span>(
  <span class='kw'>smallN</span><span class='kw'>=</span><span class='fl'>12</span>,
  <span class='kw'>pTable</span><span class='kw'>=</span><span class='no'>pTable_destatis</span>,
  <span class='kw'>sTable</span><span class='kw'>=</span><span class='no'>sTable</span>,
  <span class='kw'>mTable</span><span class='kw'>=</span><span class='no'>mTable</span>)</div><div class='output co'>#&gt; <span class='message'>Note: the supplied pTable is of type 'destatis'. Thus, arguments 'bigN' and 'smallN' will be ignored:</span></div><div class='input'>
<span class='co'>## create suitable input data using existing record keys</span>
<span class='co'>## and a perturbation table in "abs-format"</span>
<span class='no'>inp_abs</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ck_create_input.html'>ck_create_input</a></span>(
  <span class='kw'>dat</span><span class='kw'>=</span><span class='no'>dat</span>,
  <span class='kw'>def_rkey</span><span class='kw'>=</span><span class='st'>"rkeys"</span>,
  <span class='kw'>pert_params</span><span class='kw'>=</span><span class='no'>pert_params_abs</span>)

<span class='co'>## create input using a perturbation table in "destatis-format"</span>
<span class='co'>## and no existing record keys. In this case, def_rkey=9 means</span>
<span class='co'>## that the generated record keys are rounded to 9 digits</span>
<span class='no'>inp_destatis</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ck_create_input.html'>ck_create_input</a></span>(
  <span class='kw'>dat</span><span class='kw'>=</span><span class='no'>dat</span>,
  <span class='kw'>def_rkey</span><span class='kw'>=</span><span class='fl'>9</span>,
  <span class='kw'>pert_params</span><span class='kw'>=</span><span class='no'>pert_params_destatis</span>)

<span class='co'>## definining table hierarchies</span>
<span class='co'>## variable 'sex'</span>
<span class='no'>dim.sex</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ck_manage_hierarchies.html'>ck_create_node</a></span>(<span class='kw'>total_lab</span><span class='kw'>=</span><span class='st'>"Total"</span>)
<span class='no'>dim.sex</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ck_manage_hierarchies.html'>ck_add_nodes</a></span>(<span class='no'>dim.sex</span>, <span class='kw'>reference_node</span><span class='kw'>=</span><span class='st'>"Total"</span>, <span class='kw'>node_labs</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"male"</span>,<span class='st'>"female"</span>))
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/print'>print</a></span>(<span class='no'>dim.sex</span>)</div><div class='output co'>#&gt;    levelName
#&gt; 1 Total     
#&gt; 2  ¦--male  
#&gt; 3  °--female</div><div class='input'>
<span class='co'>## variable 'sex'</span>
<span class='no'>dim.age</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ck_manage_hierarchies.html'>ck_create_node</a></span>(<span class='kw'>total_lab</span><span class='kw'>=</span><span class='st'>"Total"</span>)
<span class='no'>dim.age</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ck_manage_hierarchies.html'>ck_add_nodes</a></span>(<span class='no'>dim.age</span>,
  <span class='kw'>reference_node</span><span class='kw'>=</span><span class='st'>"Total"</span>,
  <span class='kw'>node_labs</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/paste'>paste0</a></span>(<span class='st'>"age_group"</span>,<span class='fl'>1</span>:<span class='fl'>6</span>))
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/print'>print</a></span>(<span class='no'>dim.age</span>)</div><div class='output co'>#&gt;        levelName
#&gt; 1 Total         
#&gt; 2  ¦--age_group1
#&gt; 3  ¦--age_group2
#&gt; 4  ¦--age_group3
#&gt; 5  ¦--age_group4
#&gt; 6  ¦--age_group5
#&gt; 7  °--age_group6</div><div class='input'>
<span class='co'>## define required inputs</span>
<span class='no'>dimList</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='kw'>sex</span><span class='kw'>=</span><span class='no'>dim.sex</span>, <span class='kw'>age</span><span class='kw'>=</span><span class='no'>dim.age</span>)
<span class='no'>weightVar</span> <span class='kw'>&lt;-</span> <span class='st'>"sampling_weight"</span>
<span class='no'>numVars</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"savings"</span>, <span class='st'>"income"</span>)

<span class='co'>## perturbing the table</span>
<span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'>perturbTable</span>(
  <span class='kw'>inp</span><span class='kw'>=</span><span class='no'>inp_abs</span>,
  <span class='kw'>dimList</span><span class='kw'>=</span><span class='no'>dimList</span>,
  <span class='kw'>weightVar</span><span class='kw'>=</span><span class='no'>weightVar</span>, <span class='kw'>countVars</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>numVars</span><span class='kw'>=</span><span class='no'>numVars</span>)
<span class='fu'><a href='ck_freq_table.html'>ck_freq_table</a></span>(<span class='no'>res</span>, <span class='kw'>vname</span><span class='kw'>=</span><span class='st'>"Total"</span>)</div><div class='output co'>#&gt;        sex        age UWC_Total WC_Total pUWC_Total pWC_Total WCavg_Total
#&gt;  1:  Total      Total      4580   275298       4580    275298    60.10873
#&gt;  2:  Total age_group1      1969   116949       1967    116830    59.39512
#&gt;  3:  Total age_group2      1143    69455       1141     69333    60.76553
#&gt;  4:  Total age_group3       864    51130        862     51012    59.17824
#&gt;  5:  Total age_group4       423    26182        425     26306    61.89598
#&gt;  6:  Total age_group5       168    10720        169     10784    63.80952
#&gt;  7:  Total age_group6        13      862         13       862    66.30769
#&gt;  8:   male      Total      2296   138759       2296    138759    60.43510
#&gt;  9:   male age_group1      1015    60422       1017     60541    59.52906
#&gt; 10:   male age_group2       571    35244        573     35367    61.72329
#&gt; 11:   male age_group3       424    25134        423     25075    59.27830
#&gt; 12:   male age_group4       195    12195        197     12320    62.53846
#&gt; 13:   male age_group5        84     5301         86      5427    63.10714
#&gt; 14:   male age_group6         7      463          6       397    66.14286
#&gt; 15: female      Total      2284   136539       2286    136659    59.78065
#&gt; 16: female age_group1       954    56527        953     56468    59.25262
#&gt; 17: female age_group2       572    34211        572     34211    59.80944
#&gt; 18: female age_group3       440    25996        441     26055    59.08182
#&gt; 19: female age_group4       228    13987        228     13987    61.34649
#&gt; 20: female age_group5        84     5419         86      5548    64.51190
#&gt; 21: female age_group6         6      399          4       266    66.50000
#&gt;        sex        age UWC_Total WC_Total pUWC_Total pWC_Total WCavg_Total
#&gt;     row_indices col_indices pert  cellKey
#&gt;  1:         176          67    0  3662059
#&gt;  2:         110          60   -2  9113363
#&gt;  3:         207          62   -2  5230557
#&gt;  4:         199          59   -2  3920123
#&gt;  5:         102          62    2  1907495
#&gt;  6:          22          59    1   756631
#&gt;  7:         177          13    0    46831
#&gt;  8:          16          63    0 10584083
#&gt;  9:          48          66    2  4656794
#&gt; 10:         157          66    2  2689256
#&gt; 11:         150          63   -1  1932472
#&gt; 12:         196          62    2   915561
#&gt; 13:          43          59    2   354803
#&gt; 14:         225           7   -1    35197
#&gt; 15:          40          63    2 10390917
#&gt; 16:         158          65   -1  4456569
#&gt; 17:         125          67    0  2541301
#&gt; 18:         158          67    1  1987651
#&gt; 19:          40          59    0   991934
#&gt; 20:          43          59    2   401828
#&gt; 21:          97           6   -2    11634
#&gt;     row_indices col_indices pert  cellKey</div><div class='input'><span class='fu'><a href='ck_cont_table.html'>ck_cont_table</a></span>(<span class='no'>res</span>, <span class='kw'>vname</span><span class='kw'>=</span><span class='st'>"income"</span>, <span class='kw'>meanBeforeSum</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;        sex        age UW_income  pUW_income  WS_income pWS_income pWM_income
#&gt;  1:  Total      Total  22952978 22952738.88 1379674440 1379660067   5011.515
#&gt;  2:  Total age_group1   9810547  9808107.52  582698660  582553767   4986.337
#&gt;  3:  Total age_group2   5692119  5706127.00  345884624  346735827   5001.022
#&gt;  4:  Total age_group3   4406946  4413448.26  260795311  261180104   5119.974
#&gt;  5:  Total age_group4   2133543  2124486.58  132057737  131497181   4998.752
#&gt;  6:  Total age_group5    848151   838943.86   54120111   53532608   4964.077
#&gt;  7:  Total age_group6     61672    61625.66    4089328    4086255   4740.435
#&gt;  8:   male      Total  11262049 11277810.44  680623109  681575653   4911.938
#&gt;  9:   male age_group1   4877164  4884982.04  290333008  290798409   4803.330
#&gt; 10:   male age_group2   2811379  2816438.68  173527568  173839868   4915.313
#&gt; 11:   male age_group3   2168169  2181650.30  128525377  129324525   5157.508
#&gt; 12:   male age_group4    978510   979459.00   61194510   61253859   4971.904
#&gt; 13:   male age_group5    393134   384236.98   24809564   24248098   4468.048
#&gt; 14:   male age_group6     33693    31043.44    2228551    2053302   5172.045
#&gt; 15: female      Total  11690929 11674928.44  698891311  697934787   5107.126
#&gt; 16: female age_group1   4933383  4923125.48  292315871  291708086   5165.901
#&gt; 17: female age_group2   2880740  2889688.32  172295448  172830642   5051.903
#&gt; 18: female age_group3   2238777  2231797.96  132271016  131858681   5060.782
#&gt; 19: female age_group4   1155033  1145027.58   70857222   70243424   5022.051
#&gt; 20: female age_group5    455017   454706.88   29354013   29334007   5287.312
#&gt; 21: female age_group6     27979    30582.22    1860604    2033718   7645.555
#&gt;        sex        age UW_income  pUW_income  WS_income pWS_income pWM_income</div><div class='input'><span class='fu'><a href='ck_cont_table.html'>ck_cont_table</a></span>(<span class='no'>res</span>, <span class='kw'>vname</span><span class='kw'>=</span><span class='st'>"savings"</span>, <span class='kw'>meanBeforeSum</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;        sex        age UW_savings pUW_savings  WS_savings pWS_savings
#&gt;  1:  Total      Total    2273532 2275794.554 136659129.4 136795128.6
#&gt;  2:  Total age_group1     982386  984796.030  58348938.7  58492082.7
#&gt;  3:  Total age_group2     552336  552441.390  33562989.4  33569393.5
#&gt;  4:  Total age_group3     437101  438483.296  25866868.2  25948670.1
#&gt;  5:  Total age_group4     214661  212660.592  13286653.2  13162836.0
#&gt;  6:  Total age_group5      80451   80115.514   5133540.0   5112132.8
#&gt;  7:  Total age_group6       6597    7297.732    437431.8    483895.8
#&gt;  8:   male      Total    1159816 1160525.822  70093601.2  70136499.4
#&gt;  9:   male age_group1     517660  518956.154  30815815.3  30892974.1
#&gt; 10:   male age_group2     280923  281407.398  17339492.5  17369391.1
#&gt; 11:   male age_group3     214970  215321.632  12743056.6  12763900.7
#&gt; 12:   male age_group4      99420   98505.172   6217573.8   6160361.9
#&gt; 13:   male age_group5      43233   42030.272   2728311.1   2652410.4
#&gt; 14:   male age_group6       3610    4305.194    238775.7    284757.8
#&gt; 15: female      Total    1113716 1115268.732  66578664.2  66671487.5
#&gt; 16: female age_group1     464726  465839.876  27536233.3  27602233.4
#&gt; 17: female age_group2     271413  271033.992  16233059.7  16210391.4
#&gt; 18: female age_group3     222131  223161.664  13123903.4  13184796.9
#&gt; 19: female age_group4     115241  114155.420   7069631.0   7003034.5
#&gt; 20: female age_group5      37218   38085.242   2401004.1   2456951.5
#&gt; 21: female age_group6       2987    2992.538    198635.5    199003.8
#&gt;        sex        age UW_savings pUW_savings  WS_savings pWS_savings
#&gt;     pWM_savings
#&gt;  1:    496.8984
#&gt;  2:    500.6598
#&gt;  3:    484.1763
#&gt;  4:    508.6778
#&gt;  5:    500.3739
#&gt;  6:    474.0479
#&gt;  7:    561.3640
#&gt;  8:    505.4555
#&gt;  9:    510.2819
#&gt; 10:    491.1186
#&gt; 11:    509.0289
#&gt; 12:    500.0294
#&gt; 13:    488.7434
#&gt; 14:    717.2741
#&gt; 15:    487.8675
#&gt; 16:    488.8120
#&gt; 17:    473.8357
#&gt; 18:    506.0371
#&gt; 19:    500.6817
#&gt; 20:    442.8536
#&gt; 21:    748.1345
#&gt;     pWM_savings</div><div class='input'>
<span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'>perturbTable</span>(
  <span class='kw'>inp</span><span class='kw'>=</span><span class='no'>inp_destatis</span>,
  <span class='kw'>dimList</span><span class='kw'>=</span><span class='no'>dimList</span>,
  <span class='kw'>weightVar</span><span class='kw'>=</span><span class='no'>weightVar</span>, <span class='kw'>countVars</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>numVars</span><span class='kw'>=</span><span class='no'>numVars</span>)
<span class='fu'><a href='ck_freq_table.html'>ck_freq_table</a></span>(<span class='no'>res</span>, <span class='kw'>vname</span><span class='kw'>=</span><span class='st'>"Total"</span>)</div><div class='output co'>#&gt;        sex        age UWC_Total WC_Total pUWC_Total pWC_Total WCavg_Total
#&gt;  1:  Total      Total      4580   275298       4581    275358    60.10873
#&gt;  2:  Total age_group1      1969   116949       1965    116711    59.39512
#&gt;  3:  Total age_group2      1143    69455       1145     69577    60.76553
#&gt;  4:  Total age_group3       864    51130        863     51071    59.17824
#&gt;  5:  Total age_group4       423    26182        423     26182    61.89598
#&gt;  6:  Total age_group5       168    10720        168     10720    63.80952
#&gt;  7:  Total age_group6        13      862         13       862    66.30769
#&gt;  8:   male      Total      2296   138759       2297    138819    60.43510
#&gt;  9:   male age_group1      1015    60422       1015     60422    59.52906
#&gt; 10:   male age_group2       571    35244        570     35182    61.72329
#&gt; 11:   male age_group3       424    25134        423     25075    59.27830
#&gt; 12:   male age_group4       195    12195        195     12195    62.53846
#&gt; 13:   male age_group5        84     5301         83      5238    63.10714
#&gt; 14:   male age_group6         7      463          9       595    66.14286
#&gt; 15: female      Total      2284   136539       2286    136659    59.78065
#&gt; 16: female age_group1       954    56527        954     56527    59.25262
#&gt; 17: female age_group2       572    34211        572     34211    59.80944
#&gt; 18: female age_group3       440    25996        442     26114    59.08182
#&gt; 19: female age_group4       228    13987        231     14171    61.34649
#&gt; 20: female age_group5        84     5419         83      5354    64.51190
#&gt; 21: female age_group6         6      399          7       466    66.50000
#&gt;        sex        age UWC_Total WC_Total pUWC_Total pWC_Total WCavg_Total
#&gt;     row_indices col_indices pert    cellKey
#&gt;  1:           7          NA    1 0.67247760
#&gt;  2:           2          NA   -4 0.01735836
#&gt;  3:           8          NA    2 0.82390189
#&gt;  4:           5          NA   -1 0.21281832
#&gt;  5:           6          NA    0 0.45656524
#&gt;  6:           6          NA    0 0.59734442
#&gt;  7:           6          NA    0 0.56448938
#&gt;  8:           7          NA    1 0.77064268
#&gt;  9:           6          NA    0 0.42535243
#&gt; 10:           5          NA   -1 0.35624931
#&gt; 11:           5          NA   -1 0.32392977
#&gt; 12:           6          NA    0 0.49596547
#&gt; 13:           5          NA   -1 0.32737031
#&gt; 14:           8          NA    2 0.84177539
#&gt; 15:           8          NA    2 0.90183492
#&gt; 16:           6          NA    0 0.59200593
#&gt; 17:           6          NA    0 0.46765258
#&gt; 18:           8          NA    2 0.88888855
#&gt; 19:           9          NA    3 0.96059977
#&gt; 20:           5          NA   -1 0.26997411
#&gt; 21:           7          NA    1 0.72271399
#&gt;     row_indices col_indices pert    cellKey</div><div class='input'><span class='fu'><a href='ck_cont_table.html'>ck_cont_table</a></span>(<span class='no'>res</span>, <span class='kw'>vname</span><span class='kw'>=</span><span class='st'>"income"</span>, <span class='kw'>meanBeforeSum</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;        sex        age UW_income  pUW_income  WS_income pWS_income pWM_income
#&gt;  1:  Total      Total  22952978 22959381.68 1379674440 1380059358   5011.873
#&gt;  2:  Total age_group1   9810547  9812107.76  582698660  582791361   4993.457
#&gt;  3:  Total age_group2   5692119  5677496.90  345884624  344996104   4958.479
#&gt;  4:  Total age_group3   4406946  4424320.24  260795311  261823488   5126.657
#&gt;  5:  Total age_group4   2133543  2122208.64  132057737  131356186   5017.042
#&gt;  6:  Total age_group5    848151   854311.92   54120111   54513237   5085.190
#&gt;  7:  Total age_group6     61672    68936.22    4089328    4571002   5302.786
#&gt;  8:   male      Total  11262049 11271115.92  680623109  681171069   4906.901
#&gt;  9:   male age_group1   4877164  4880213.92  290333008  290514567   4808.093
#&gt; 10:   male age_group2   2811379  2805004.60  173527568  173134119   4921.099
#&gt; 11:   male age_group3   2168169  2168826.88  128525377  128564375   5127.193
#&gt; 12:   male age_group4    978510   977104.62   61194510   61106620   5010.793
#&gt; 13:   male age_group5    393134   405524.92   24809564   25591519   4885.742
#&gt; 14:   male age_group6     33693    34440.98    2228551    2278025   3828.613
#&gt; 15: female      Total  11690929 11688265.76  698891311  698732101   5112.961
#&gt; 16: female age_group1   4933383  4931893.84  292315871  292227634   5169.700
#&gt; 17: female age_group2   2880740  2872492.30  172295448  171802157   5021.840
#&gt; 18: female age_group3   2238777  2255493.36  132271016  133258649   5102.958
#&gt; 19: female age_group4   1155033  1145104.02   70857222   70248114   4957.174
#&gt; 20: female age_group5    455017   448787.00   29354013   28952104   5407.565
#&gt; 21: female age_group6     27979    34495.24    1860604    2293933   4922.604
#&gt;        sex        age UW_income  pUW_income  WS_income pWS_income pWM_income</div><div class='input'><span class='fu'><a href='ck_cont_table.html'>ck_cont_table</a></span>(<span class='no'>res</span>, <span class='kw'>vname</span><span class='kw'>=</span><span class='st'>"savings"</span>, <span class='kw'>meanBeforeSum</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;        sex        age UW_savings pUW_savings  WS_savings pWS_savings
#&gt;  1:  Total      Total    2273532 2272791.474 136659129.4 136614617.3
#&gt;  2:  Total age_group1     982386  983501.904  58348938.7  58415218.0
#&gt;  3:  Total age_group2     552336  550290.120  33562989.4  33438670.4
#&gt;  4:  Total age_group3     437101  436795.852  25866868.2  25848810.1
#&gt;  5:  Total age_group4     214661  215808.258  13286653.2  13357663.9
#&gt;  6:  Total age_group5      80451   79616.052   5133540.0   5080262.4
#&gt;  7:  Total age_group6       6597    6779.288    437431.8    449518.9
#&gt;  8:   male      Total    1159816 1157820.490  70093601.2  69973002.3
#&gt;  9:   male age_group1     517660  518320.886  30815815.3  30855157.2
#&gt; 10:   male age_group2     280923  279815.904  17339492.5  17271158.9
#&gt; 11:   male age_group3     214970  214976.940  12743056.6  12743467.9
#&gt; 12:   male age_group4      99420   99916.032   6217573.8   6248594.9
#&gt; 13:   male age_group5      43233   42055.736   2728311.1   2654017.3
#&gt; 14:   male age_group6       3610    2734.992    238775.7    180900.2
#&gt; 15: female      Total    1113716 1114970.984  66578664.2  66653687.9
#&gt; 16: female age_group1     464726  465181.018  27536233.3  27563194.3
#&gt; 17: female age_group2     271413  270474.216  16233059.7  16176911.5
#&gt; 18: female age_group3     222131  221818.912  13123903.4  13105464.6
#&gt; 19: female age_group4     115241  115892.226   7069631.0   7109581.4
#&gt; 20: female age_group5      37218   37560.316   2401004.1   2423087.5
#&gt; 21: female age_group6       2987    4044.296    198635.5    268945.7
#&gt;        sex        age UW_savings pUW_savings  WS_savings pWS_savings
#&gt;     pWM_savings
#&gt;  1:    496.1345
#&gt;  2:    500.5117
#&gt;  3:    480.5995
#&gt;  4:    506.1348
#&gt;  5:    510.1850
#&gt;  6:    473.9051
#&gt;  7:    521.4837
#&gt;  8:    504.0593
#&gt;  9:    510.6610
#&gt; 10:    490.9090
#&gt; 11:    508.2141
#&gt; 12:    512.3899
#&gt; 13:    506.6853
#&gt; 14:    304.0339
#&gt; 15:    487.7373
#&gt; 16:    487.6111
#&gt; 17:    472.8570
#&gt; 18:    501.8559
#&gt; 19:    501.6993
#&gt; 20:    452.5752
#&gt; 21:    577.1367
#&gt;     pWM_savings</div><div class='input'>
<span class='co'>## information on modifications for count variables</span>
<span class='fu'><a href='mod_counts-methods.html'>mod_counts</a></span>(<span class='no'>res</span>, <span class='kw'>verbose</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; <span class='message'>The perturbation was based on the 'destatis' method.</span></div><div class='output co'>#&gt;        sex        age row_indices pert    cellKey countVar
#&gt;  1:  Total      Total           7    1 0.67247760    Total
#&gt;  2:  Total age_group1           2   -4 0.01735836    Total
#&gt;  3:  Total age_group2           8    2 0.82390189    Total
#&gt;  4:  Total age_group3           5   -1 0.21281832    Total
#&gt;  5:  Total age_group4           6    0 0.45656524    Total
#&gt;  6:  Total age_group5           6    0 0.59734442    Total
#&gt;  7:  Total age_group6           6    0 0.56448938    Total
#&gt;  8:   male      Total           7    1 0.77064268    Total
#&gt;  9:   male age_group1           6    0 0.42535243    Total
#&gt; 10:   male age_group2           5   -1 0.35624931    Total
#&gt; 11:   male age_group3           5   -1 0.32392977    Total
#&gt; 12:   male age_group4           6    0 0.49596547    Total
#&gt; 13:   male age_group5           5   -1 0.32737031    Total
#&gt; 14:   male age_group6           8    2 0.84177539    Total
#&gt; 15: female      Total           8    2 0.90183492    Total
#&gt; 16: female age_group1           6    0 0.59200593    Total
#&gt; 17: female age_group2           6    0 0.46765258    Total
#&gt; 18: female age_group3           8    2 0.88888855    Total
#&gt; 19: female age_group4           9    3 0.96059977    Total
#&gt; 20: female age_group5           5   -1 0.26997411    Total
#&gt; 21: female age_group6           7    1 0.72271399    Total
#&gt;        sex        age row_indices pert    cellKey countVar</div><div class='input'>
<span class='co'>## information on modifications for numerical variables</span>
<span class='fu'><a href='mod_numvars-methods.html'>mod_numvars</a></span>(<span class='no'>res</span>)</div><div class='output co'>#&gt;       id    sex        age magnitude dir noise vals.orig vals.pert  vals.mod
#&gt;  1:   98 female age_group1       0.6   1  0.43       998   257.484  1255.484
#&gt;  2:  101 female age_group5       0.2  -1  0.96       931  -178.752   752.248
#&gt;  3:  201 female age_group6       0.6   1  1.28       893   685.824  1578.824
#&gt;  4:  618 female age_group1       0.2  -1  1.63       995  -324.370   670.630
#&gt;  5:  646 female age_group3       0.6   1  0.81       996   484.056  1480.056
#&gt;  6:  687   male age_group1       0.6   1  0.35       999   209.790  1208.790
#&gt;  7:  817   male age_group4       0.2  -1  1.16       991  -229.912   761.088
#&gt;  8:  984   male age_group3       0.2  -1  0.38       996   -75.696   920.304
#&gt;  9: 1000 female age_group4       0.4   1  0.59       996   235.056  1231.056
#&gt; 10: 1036 female age_group6       0.2   1  0.71       600    85.200   685.200
#&gt; 11: 1041   male age_group5       0.2  -1  1.63       992  -323.392   668.608
#&gt; 12: 1042 female age_group5       0.4   1  0.82       976   320.128  1296.128
#&gt; 13: 1297   male age_group6       0.4  -1  0.83       771  -255.972   515.028
#&gt; 14: 1461   male age_group2       0.2  -1  1.14       995  -226.860   768.140
#&gt; 15: 1735 female age_group3       0.2  -1  0.82       992  -162.688   829.312
#&gt; 16: 2144   male age_group1       0.4   1  0.96       998   383.232  1381.232
#&gt; 17: 2177   male age_group3       0.4  -1  0.53       997  -211.364   785.636
#&gt; 18: 2293 female age_group1       0.4   1  1.31       996   521.904  1517.904
#&gt; 19: 2402 female age_group2       0.2  -1  1.24       996  -247.008   748.992
#&gt; 20: 2471 female age_group6       0.4   1  0.84       852   286.272  1138.272
#&gt; 21: 2652   male age_group4       0.4   1  0.83       995   330.340  1325.340
#&gt; 22: 2805 female age_group5       0.6   1  0.34       985   200.940  1185.940
#&gt; 23: 2845   male age_group6       0.2  -1  0.76       767  -116.584   650.416
#&gt; 24: 2864 female age_group2       0.6  -1  0.78      1000  -468.000   532.000
#&gt; 25: 2978   male age_group2       0.6  -1  1.11       998  -664.668   333.332
#&gt; 26: 2988   male age_group6       0.6  -1  1.02       821  -502.452   318.548
#&gt; 27: 3452   male age_group2       0.4  -1  0.54       998  -215.568   782.432
#&gt; 28: 3475 female age_group3       0.4  -1  1.59       996  -633.456   362.544
#&gt; 29: 3899 female age_group4       0.6   1  1.25       998   748.500  1746.500
#&gt; 30: 3912   male age_group5       0.4  -1  0.52       996  -207.168   788.832
#&gt; 31: 3974 female age_group2       0.4  -1  0.56       999  -223.776   775.224
#&gt; 32: 4031   male age_group5       0.6  -1  1.08       998  -646.704   351.296
#&gt; 33: 4258   male age_group3       0.6   1  0.49      1000   294.000  1294.000
#&gt; 34: 4440 female age_group4       0.2  -1  1.67       995  -332.330   662.670
#&gt; 35: 4481   male age_group4       0.6   1  0.66       999   395.604  1394.604
#&gt; 36: 4493   male age_group1       0.2   1  0.34       998    67.864  1065.864
#&gt; 37:   69 female age_group4       0.2   1  1.12      9900  2217.600 12117.600
#&gt; 38:  201 female age_group6       0.6   1  1.28      7650  5875.200 13525.200
#&gt; 39:  311   male age_group4       0.2   1  1.65      9830  3243.900 13073.900
#&gt; 40:  662 female age_group1       0.6  -1  1.46     10000 -8760.000  1240.000
#&gt; 41:  730 female age_group3       0.6   1  1.41      9960  8426.160 18386.160
#&gt; 42:  753 female age_group1       0.4   1  1.35      9990  5394.600 15384.600
#&gt; 43:  787   male age_group3       0.4   1  1.36      9980  5429.120 15409.120
#&gt; 44:  817   male age_group4       0.6  -1  1.16      9970 -6939.120  3030.880
#&gt; 45: 1009 female age_group2       0.4  -1  0.39      9980 -1556.880  8423.120
#&gt; 46: 1024   male age_group5       0.6   1  1.58      9990  9470.520 19460.520
#&gt; 47: 1036 female age_group6       0.4   1  0.71      6330  1797.720  8127.720
#&gt; 48: 1072   male age_group3       0.6  -1  0.31     10000 -1860.000  8140.000
#&gt; 49: 1076   male age_group1       0.6   1  1.62     10000  9720.000 19720.000
#&gt; 50: 1089   male age_group2       0.6  -1  1.26      9960 -7529.760  2430.240
#&gt; 51: 1939 female age_group1       0.2   1  0.94      9980  1876.240 11856.240
#&gt; 52: 1950 female age_group3       0.2   1  1.46      9910  2893.720 12803.720
#&gt; 53: 2300 female age_group4       0.4  -1  1.54      9930 -6116.880  3813.120
#&gt; 54: 2363 female age_group2       0.6  -1  0.91      9990 -5454.540  4535.460
#&gt; 55: 2487   male age_group5       0.2  -1  0.52      9650 -1003.600  8646.400
#&gt; 56: 2684 female age_group2       0.2  -1  0.62      9970 -1236.280  8733.720
#&gt; 57: 2879 female age_group6       0.2  -1  1.02      5670 -1156.680  4513.320
#&gt; 58: 2887   male age_group1       0.2  -1  1.62      9980 -3233.520  6746.480
#&gt; 59: 2932   male age_group2       0.4   1  0.90      9960  3585.600 13545.600
#&gt; 60: 2988   male age_group6       0.4  -1  1.02      6760 -2758.080  4001.920
#&gt; 61: 3027   male age_group3       0.2  -1  1.46      9970 -2911.240  7058.760
#&gt; 62: 3247 female age_group3       0.4   1  1.36      9920  5396.480 15316.480
#&gt; 63: 3298 female age_group4       0.6  -1  1.01      9950 -6029.700  3920.300
#&gt; 64: 3503   male age_group6       0.6   1  0.94      7790  4393.560 12183.560
#&gt; 65: 3514   male age_group6       0.2  -1  0.71      6250  -887.500  5362.500
#&gt; 66: 3891   male age_group2       0.2  -1  1.22      9960 -2430.240  7529.760
#&gt; 67: 3975 female age_group5       0.4  -1  1.25      9910 -4955.000  4955.000
#&gt; 68: 4312   male age_group4       0.4   1  0.58      9870  2289.840 12159.840
#&gt; 69: 4415   male age_group1       0.4  -1  0.86      9990 -3436.560  6553.440
#&gt; 70: 4449   male age_group5       0.4   1  1.00      9810  3924.000 13734.000
#&gt; 71: 4458 female age_group5       0.6   1  0.31      9920  1845.120 11765.120
#&gt; 72: 4518 female age_group5       0.2  -1  1.62      9630 -3120.120  6509.880
#&gt;       id    sex        age magnitude dir noise vals.orig vals.pert  vals.mod
#&gt;      numVar
#&gt;  1: savings
#&gt;  2: savings
#&gt;  3: savings
#&gt;  4: savings
#&gt;  5: savings
#&gt;  6: savings
#&gt;  7: savings
#&gt;  8: savings
#&gt;  9: savings
#&gt; 10: savings
#&gt; 11: savings
#&gt; 12: savings
#&gt; 13: savings
#&gt; 14: savings
#&gt; 15: savings
#&gt; 16: savings
#&gt; 17: savings
#&gt; 18: savings
#&gt; 19: savings
#&gt; 20: savings
#&gt; 21: savings
#&gt; 22: savings
#&gt; 23: savings
#&gt; 24: savings
#&gt; 25: savings
#&gt; 26: savings
#&gt; 27: savings
#&gt; 28: savings
#&gt; 29: savings
#&gt; 30: savings
#&gt; 31: savings
#&gt; 32: savings
#&gt; 33: savings
#&gt; 34: savings
#&gt; 35: savings
#&gt; 36: savings
#&gt; 37:  income
#&gt; 38:  income
#&gt; 39:  income
#&gt; 40:  income
#&gt; 41:  income
#&gt; 42:  income
#&gt; 43:  income
#&gt; 44:  income
#&gt; 45:  income
#&gt; 46:  income
#&gt; 47:  income
#&gt; 48:  income
#&gt; 49:  income
#&gt; 50:  income
#&gt; 51:  income
#&gt; 52:  income
#&gt; 53:  income
#&gt; 54:  income
#&gt; 55:  income
#&gt; 56:  income
#&gt; 57:  income
#&gt; 58:  income
#&gt; 59:  income
#&gt; 60:  income
#&gt; 61:  income
#&gt; 62:  income
#&gt; 63:  income
#&gt; 64:  income
#&gt; 65:  income
#&gt; 66:  income
#&gt; 67:  income
#&gt; 68:  income
#&gt; 69:  income
#&gt; 70:  income
#&gt; 71:  income
#&gt; 72:  income
#&gt;      numVar</div><div class='input'>
<span class='co'>## information-loss/utility statistics on tabulated count variables</span>
<span class='fu'><a href='ck_cnt_measures.html'>ck_cnt_measures</a></span>(<span class='no'>res</span>, <span class='kw'>vname</span><span class='kw'>=</span><span class='st'>"Total"</span>)</div><div class='output co'>#&gt; $measures
#&gt;       what vals_abs vals_rel vals_r
#&gt;  1:    Min    0.000    0.000  0.000
#&gt;  2:    Q10    0.000    0.000  0.000
#&gt;  3:    Q20    0.000    0.000  0.000
#&gt;  4:    Q30    0.000    0.000  0.000
#&gt;  5:    Q40    1.000    0.000  0.010
#&gt;  6:   Mean    1.095    0.024  0.047
#&gt;  7: Median    1.000    0.001  0.021
#&gt;  8:    Q60    1.000    0.002  0.024
#&gt;  9:    Q70    1.000    0.002  0.045
#&gt; 10:    Q80    2.000    0.012  0.055
#&gt; 11:    Q90    2.000    0.013  0.099
#&gt; 12:    Max    4.000    0.286  0.354
#&gt; 
#&gt; $cumdistrA
#&gt;    kat val_abs  prop_abs
#&gt; 1:   0       7 0.3333333
#&gt; 2:   1      15 0.7142857
#&gt; 3:   2      19 0.9047619
#&gt; 4:   3      20 0.9523810
#&gt; 5:   4      21 1.0000000
#&gt; 
#&gt; $cumdistrB
#&gt;             kat val_rel  prop_rel val_r    prop_r
#&gt;  1:    [0,0.01]      16 0.7619048     8 0.7619048
#&gt;  2: (0.01,0.02]      19 0.9047619    10 0.9047619
#&gt;  3: (0.02,0.03]      19 0.9047619    14 0.9047619
#&gt;  4: (0.03,0.04]      19 0.9047619    14 0.9047619
#&gt;  5: (0.04,0.05]      19 0.9047619    16 0.9047619
#&gt;  6: (0.05,0.06]      19 0.9047619    18 0.9047619
#&gt;  7: (0.06,0.07]      19 0.9047619    18 0.9047619
#&gt;  8: (0.07,0.08]      19 0.9047619    18 0.9047619
#&gt;  9: (0.08,0.09]      19 0.9047619    18 0.9047619
#&gt; 10:  (0.09,0.1]      19 0.9047619    19 0.9047619
#&gt; 11:  (0.1,0.15]      19 0.9047619    19 0.9047619
#&gt; 12:  (0.15,0.2]      20 0.9523810    20 0.9523810
#&gt; 13:  (0.2,0.25]      20 0.9523810    20 0.9523810
#&gt; 14:  (0.25,0.3]      21 1.0000000    20 1.0000000
#&gt; 15:  (0.3,0.35]      21 1.0000000    20 1.0000000
#&gt; 16:  (0.35,0.4]      21 1.0000000    21 1.0000000
#&gt; 17:  (0.4,0.45]      21 1.0000000    21 1.0000000
#&gt; 18:  (0.45,0.5]      21 1.0000000    21 1.0000000
#&gt; 19:  (0.5,0.55]      21 1.0000000    21 1.0000000
#&gt; 20:  (0.55,0.6]      21 1.0000000    21 1.0000000
#&gt; 21:  (0.6,0.65]      21 1.0000000    21 1.0000000
#&gt; 22:  (0.65,0.7]      21 1.0000000    21 1.0000000
#&gt; 23:  (0.7,0.75]      21 1.0000000    21 1.0000000
#&gt; 24:  (0.75,0.8]      21 1.0000000    21 1.0000000
#&gt; 25:  (0.8,0.85]      21 1.0000000    21 1.0000000
#&gt; 26:  (0.85,0.9]      21 1.0000000    21 1.0000000
#&gt; 27:  (0.9,0.95]      21 1.0000000    21 1.0000000
#&gt; 28:    (0.95,1]      21 1.0000000    21 1.0000000
#&gt; 29:     (1,Inf]      21 1.0000000    21 1.0000000
#&gt;             kat val_rel  prop_rel val_r    prop_r
#&gt; 
#&gt; $false_zero
#&gt; [1] 0
#&gt; 
#&gt; $false_positives
#&gt; [1] 0
#&gt; </div><div class='input'>
<span class='co'>## an example using additional countVars</span>
<span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'>perturbTable</span>(
  <span class='kw'>inp</span><span class='kw'>=</span><span class='no'>inp_destatis</span>,
  <span class='kw'>dimList</span><span class='kw'>=</span><span class='no'>dimList</span>,
  <span class='kw'>weightVar</span><span class='kw'>=</span><span class='no'>weightVar</span>,
  <span class='kw'>countVars</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"cnt_females"</span>, <span class='st'>"cnt_males"</span>,<span class='st'>"cnt_highincome"</span>),
  <span class='kw'>numVars</span><span class='kw'>=</span><span class='no'>numVars</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/print'>print</a></span>(<span class='no'>res</span>) <span class='co'># custom print method</span></div><div class='output co'>#&gt; The weighted 2-dimensional table consists of 21 cells. The results are based on all units in the input data. 
#&gt; The dimensions are given by the following variables
#&gt; o sex
#&gt; o age 
#&gt; 
#&gt; Type of pTable-used: 'destatis' 
#&gt; The following count-variables have been tabulated/perturbed:
#&gt; o Total
#&gt; o cnt_females
#&gt; o cnt_males
#&gt; o cnt_highincome 
#&gt; The following numeric variables have been tabulated/perturbed:
#&gt; o savings
#&gt; o income </div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/summary'>summary</a></span>(<span class='no'>res</span>) <span class='co'># custom summary method</span></div><div class='output co'>#&gt; Perturbation statistics count variables:
#&gt;          countVar Min Q10 Q20 Q30 Q40  Mean Median Q60 Q70 Q80 Q90 Max
#&gt; 1:          Total  -4  -1  -1   0   0 0.238      0   0   1   2   2   3
#&gt; 2:    cnt_females  -1   0   0   0   0 0.667      0   0   1   2   2   3
#&gt; 3:      cnt_males  -1  -1  -1   0   0 0.000      0   0   0   0   1   2
#&gt; 4: cnt_highincome  -4  -2  -2  -1   0 0.000      0   0   1   2   2   3
#&gt; 
#&gt; Distance-Based measures for count-variable 'Total' 
#&gt;       what vals_abs vals_rel vals_r
#&gt;  1:    Min    0.000    0.000  0.000
#&gt;  2:    Q10    0.000    0.000  0.000
#&gt;  3:    Q20    0.000    0.000  0.000
#&gt;  4:    Q30    0.000    0.000  0.000
#&gt;  5:    Q40    1.000    0.000  0.010
#&gt;  6:   Mean    1.095    0.024  0.047
#&gt;  7: Median    1.000    0.001  0.021
#&gt;  8:    Q60    1.000    0.002  0.024
#&gt;  9:    Q70    1.000    0.002  0.045
#&gt; 10:    Q80    2.000    0.012  0.055
#&gt; 11:    Q90    2.000    0.013  0.099
#&gt; 12:    Max    4.000    0.286  0.354
#&gt; 
#&gt; Distance-Based measures for count-variable 'cnt_females' 
#&gt;       what vals_abs vals_rel vals_r
#&gt;  1:    Min    0.000    0.000  0.000
#&gt;  2:    Q10    0.000    0.000  0.000
#&gt;  3:    Q20    0.000    0.000  0.000
#&gt;  4:    Q30    0.000    0.000  0.000
#&gt;  5:    Q40    0.000    0.000  0.000
#&gt;  6:   Mean    0.857    0.019  0.040
#&gt;  7: Median    0.000    0.000  0.000
#&gt;  8:    Q60    1.000    0.001  0.021
#&gt;  9:    Q70    1.000    0.005  0.048
#&gt; 10:    Q80    2.000    0.012  0.055
#&gt; 11:    Q90    2.000    0.013  0.099
#&gt; 12:    Max    3.000    0.167  0.196
#&gt; 
#&gt; Distance-Based measures for count-variable 'cnt_males' 
#&gt;       what vals_abs vals_rel vals_r
#&gt;  1:    Min    0.000    0.000  0.000
#&gt;  2:    Q10    0.000    0.000  0.000
#&gt;  3:    Q20    0.000    0.000  0.000
#&gt;  4:    Q30    0.000    0.000  0.000
#&gt;  5:    Q40    0.000    0.000  0.000
#&gt;  6:   Mean    0.571    0.029  0.044
#&gt;  7: Median    0.000    0.000  0.000
#&gt;  8:    Q60    1.000    0.000  0.010
#&gt;  9:    Q70    1.000    0.002  0.021
#&gt; 10:    Q80    1.000    0.002  0.024
#&gt; 11:    Q90    1.000    0.012  0.055
#&gt; 12:    Max    2.000    0.286  0.354
#&gt; 
#&gt; Distance-Based measures for count-variable 'cnt_highincome' 
#&gt;       what vals_abs vals_rel vals_r
#&gt;  1:    Min    0.000    0.000  0.000
#&gt;  2:    Q10    0.000    0.000  0.000
#&gt;  3:    Q20    0.000    0.000  0.000
#&gt;  4:    Q30    1.000    0.002  0.024
#&gt;  5:    Q40    1.000    0.009  0.067
#&gt;  6:   Mean    1.333    0.044  0.104
#&gt;  7: Median    1.000    0.024  0.110
#&gt;  8:    Q60    2.000    0.030  0.124
#&gt;  9:    Q70    2.000    0.044  0.134
#&gt; 10:    Q80    2.000    0.049  0.158
#&gt; 11:    Q90    2.000    0.143  0.213
#&gt; 12:    Max    4.000    0.286  0.354
#&gt; 
#&gt; 
#&gt; Perturbation statistics on numerical variables:
#&gt;     numVar       Min       Q10       Q20       Q30       Q40   Mean   Median
#&gt; 1: savings  -664.668  -485.226  -323.392  -228.386  -211.364 -20.57 -139.636
#&gt; 2:  income -8760.000 -6073.290 -3436.560 -2834.660 -1556.880 177.88 -945.550
#&gt;        Q60     Q70      Q80     Q90    Max
#&gt; 1:   85.20  246.27  320.128  439.83  748.5
#&gt; 2: 1876.24 3068.81 4393.560 5652.16 9720.0</div><div class='input'>
<span class='co'>## show count tables</span>
<span class='fu'><a href='ck_freq_table.html'>ck_freq_table</a></span>(<span class='no'>res</span>, <span class='kw'>vname</span><span class='kw'>=</span><span class='kw'>NULL</span>)</div><div class='output co'>#&gt; The following variables have been perturbed using the frequency-approach:
#&gt;   --&gt; Total
#&gt;   --&gt; cnt_females
#&gt;   --&gt; cnt_males
#&gt;   --&gt; cnt_highincome</div><div class='input'><span class='fu'><a href='ck_freq_table.html'>ck_freq_table</a></span>(<span class='no'>res</span>, <span class='kw'>vname</span><span class='kw'>=</span><span class='st'>"Total"</span>)</div><div class='output co'>#&gt;        sex        age UWC_Total WC_Total pUWC_Total pWC_Total WCavg_Total
#&gt;  1:  Total      Total      4580   275298       4581    275358    60.10873
#&gt;  2:  Total age_group1      1969   116949       1965    116711    59.39512
#&gt;  3:  Total age_group2      1143    69455       1145     69577    60.76553
#&gt;  4:  Total age_group3       864    51130        863     51071    59.17824
#&gt;  5:  Total age_group4       423    26182        423     26182    61.89598
#&gt;  6:  Total age_group5       168    10720        168     10720    63.80952
#&gt;  7:  Total age_group6        13      862         13       862    66.30769
#&gt;  8:   male      Total      2296   138759       2297    138819    60.43510
#&gt;  9:   male age_group1      1015    60422       1015     60422    59.52906
#&gt; 10:   male age_group2       571    35244        570     35182    61.72329
#&gt; 11:   male age_group3       424    25134        423     25075    59.27830
#&gt; 12:   male age_group4       195    12195        195     12195    62.53846
#&gt; 13:   male age_group5        84     5301         83      5238    63.10714
#&gt; 14:   male age_group6         7      463          9       595    66.14286
#&gt; 15: female      Total      2284   136539       2286    136659    59.78065
#&gt; 16: female age_group1       954    56527        954     56527    59.25262
#&gt; 17: female age_group2       572    34211        572     34211    59.80944
#&gt; 18: female age_group3       440    25996        442     26114    59.08182
#&gt; 19: female age_group4       228    13987        231     14171    61.34649
#&gt; 20: female age_group5        84     5419         83      5354    64.51190
#&gt; 21: female age_group6         6      399          7       466    66.50000
#&gt;        sex        age UWC_Total WC_Total pUWC_Total pWC_Total WCavg_Total
#&gt;     row_indices col_indices pert    cellKey
#&gt;  1:           7          NA    1 0.67247760
#&gt;  2:           2          NA   -4 0.01735836
#&gt;  3:           8          NA    2 0.82390189
#&gt;  4:           5          NA   -1 0.21281832
#&gt;  5:           6          NA    0 0.45656524
#&gt;  6:           6          NA    0 0.59734442
#&gt;  7:           6          NA    0 0.56448938
#&gt;  8:           7          NA    1 0.77064268
#&gt;  9:           6          NA    0 0.42535243
#&gt; 10:           5          NA   -1 0.35624931
#&gt; 11:           5          NA   -1 0.32392977
#&gt; 12:           6          NA    0 0.49596547
#&gt; 13:           5          NA   -1 0.32737031
#&gt; 14:           8          NA    2 0.84177539
#&gt; 15:           8          NA    2 0.90183492
#&gt; 16:           6          NA    0 0.59200593
#&gt; 17:           6          NA    0 0.46765258
#&gt; 18:           8          NA    2 0.88888855
#&gt; 19:           9          NA    3 0.96059977
#&gt; 20:           5          NA   -1 0.26997411
#&gt; 21:           7          NA    1 0.72271399
#&gt;     row_indices col_indices pert    cellKey</div><div class='input'><span class='fu'><a href='ck_freq_table.html'>ck_freq_table</a></span>(<span class='no'>res</span>, <span class='kw'>vname</span><span class='kw'>=</span><span class='st'>"cnt_females"</span>)</div><div class='output co'>#&gt;        sex        age UWC_cnt_females WC_cnt_females pUWC_cnt_females
#&gt;  1:  Total      Total            2284         136539             2286
#&gt;  2:  Total age_group1             954          56527              954
#&gt;  3:  Total age_group2             572          34211              572
#&gt;  4:  Total age_group3             440          25996              442
#&gt;  5:  Total age_group4             228          13987              231
#&gt;  6:  Total age_group5              84           5419               83
#&gt;  7:  Total age_group6               6            399                7
#&gt;  8:   male      Total               0              0                0
#&gt;  9:   male age_group1               0              0                0
#&gt; 10:   male age_group2               0              0                0
#&gt; 11:   male age_group3               0              0                0
#&gt; 12:   male age_group4               0              0                0
#&gt; 13:   male age_group5               0              0                0
#&gt; 14:   male age_group6               0              0                0
#&gt; 15: female      Total            2284         136539             2286
#&gt; 16: female age_group1             954          56527              954
#&gt; 17: female age_group2             572          34211              572
#&gt; 18: female age_group3             440          25996              442
#&gt; 19: female age_group4             228          13987              231
#&gt; 20: female age_group5              84           5419               83
#&gt; 21: female age_group6               6            399                7
#&gt;        sex        age UWC_cnt_females WC_cnt_females pUWC_cnt_females
#&gt;     pWC_cnt_females WCavg_cnt_females row_indices col_indices pert   cellKey
#&gt;  1:          136659          59.78065           8          NA    2 0.9018349
#&gt;  2:           56527          59.25262           6          NA    0 0.5920059
#&gt;  3:           34211          59.80944           6          NA    0 0.4676526
#&gt;  4:           26114          59.08182           8          NA    2 0.8888886
#&gt;  5:           14171          61.34649           9          NA    3 0.9605998
#&gt;  6:            5354          64.51190           5          NA   -1 0.2699741
#&gt;  7:             466          66.50000           7          NA    1 0.7227140
#&gt;  8:               0           0.00000          -1          NA    0 0.0000000
#&gt;  9:               0           0.00000          -1          NA    0 0.0000000
#&gt; 10:               0           0.00000          -1          NA    0 0.0000000
#&gt; 11:               0           0.00000          -1          NA    0 0.0000000
#&gt; 12:               0           0.00000          -1          NA    0 0.0000000
#&gt; 13:               0           0.00000          -1          NA    0 0.0000000
#&gt; 14:               0           0.00000          -1          NA    0 0.0000000
#&gt; 15:          136659          59.78065           8          NA    2 0.9018349
#&gt; 16:           56527          59.25262           6          NA    0 0.5920059
#&gt; 17:           34211          59.80944           6          NA    0 0.4676526
#&gt; 18:           26114          59.08182           8          NA    2 0.8888886
#&gt; 19:           14171          61.34649           9          NA    3 0.9605998
#&gt; 20:            5354          64.51190           5          NA   -1 0.2699741
#&gt; 21:             466          66.50000           7          NA    1 0.7227140
#&gt;     pWC_cnt_females WCavg_cnt_females row_indices col_indices pert   cellKey</div><div class='input'><span class='fu'><a href='ck_freq_table.html'>ck_freq_table</a></span>(<span class='no'>res</span>, <span class='kw'>vname</span><span class='kw'>=</span><span class='st'>"cnt_males"</span>)</div><div class='output co'>#&gt;        sex        age UWC_cnt_males WC_cnt_males pUWC_cnt_males pWC_cnt_males
#&gt;  1:  Total      Total          2296       138759           2297        138819
#&gt;  2:  Total age_group1          1015        60422           1015         60422
#&gt;  3:  Total age_group2           571        35244            570         35182
#&gt;  4:  Total age_group3           424        25134            423         25075
#&gt;  5:  Total age_group4           195        12195            195         12195
#&gt;  6:  Total age_group5            84         5301             83          5238
#&gt;  7:  Total age_group6             7          463              9           595
#&gt;  8:   male      Total          2296       138759           2297        138819
#&gt;  9:   male age_group1          1015        60422           1015         60422
#&gt; 10:   male age_group2           571        35244            570         35182
#&gt; 11:   male age_group3           424        25134            423         25075
#&gt; 12:   male age_group4           195        12195            195         12195
#&gt; 13:   male age_group5            84         5301             83          5238
#&gt; 14:   male age_group6             7          463              9           595
#&gt; 15: female      Total             0            0              0             0
#&gt; 16: female age_group1             0            0              0             0
#&gt; 17: female age_group2             0            0              0             0
#&gt; 18: female age_group3             0            0              0             0
#&gt; 19: female age_group4             0            0              0             0
#&gt; 20: female age_group5             0            0              0             0
#&gt; 21: female age_group6             0            0              0             0
#&gt;        sex        age UWC_cnt_males WC_cnt_males pUWC_cnt_males pWC_cnt_males
#&gt;     WCavg_cnt_males row_indices col_indices pert   cellKey
#&gt;  1:        60.43510           7          NA    1 0.7706427
#&gt;  2:        59.52906           6          NA    0 0.4253524
#&gt;  3:        61.72329           5          NA   -1 0.3562493
#&gt;  4:        59.27830           5          NA   -1 0.3239298
#&gt;  5:        62.53846           6          NA    0 0.4959655
#&gt;  6:        63.10714           5          NA   -1 0.3273703
#&gt;  7:        66.14286           8          NA    2 0.8417754
#&gt;  8:        60.43510           7          NA    1 0.7706427
#&gt;  9:        59.52906           6          NA    0 0.4253524
#&gt; 10:        61.72329           5          NA   -1 0.3562493
#&gt; 11:        59.27830           5          NA   -1 0.3239298
#&gt; 12:        62.53846           6          NA    0 0.4959655
#&gt; 13:        63.10714           5          NA   -1 0.3273703
#&gt; 14:        66.14286           8          NA    2 0.8417754
#&gt; 15:         0.00000          -1          NA    0 0.0000000
#&gt; 16:         0.00000          -1          NA    0 0.0000000
#&gt; 17:         0.00000          -1          NA    0 0.0000000
#&gt; 18:         0.00000          -1          NA    0 0.0000000
#&gt; 19:         0.00000          -1          NA    0 0.0000000
#&gt; 20:         0.00000          -1          NA    0 0.0000000
#&gt; 21:         0.00000          -1          NA    0 0.0000000
#&gt;     WCavg_cnt_males row_indices col_indices pert   cellKey</div><div class='input'><span class='fu'><a href='ck_freq_table.html'>ck_freq_table</a></span>(<span class='no'>res</span>, <span class='kw'>vname</span><span class='kw'>=</span><span class='st'>"cnt_highincome"</span>)</div><div class='output co'>#&gt;        sex        age UWC_cnt_highincome WC_cnt_highincome pUWC_cnt_highincome
#&gt;  1:  Total      Total                445             26420                 446
#&gt;  2:  Total age_group1                192             10986                 192
#&gt;  3:  Total age_group2                123              7430                 126
#&gt;  4:  Total age_group3                 82              5155                  84
#&gt;  5:  Total age_group4                 34              2081                  33
#&gt;  6:  Total age_group5                 14               768                  12
#&gt;  7:  Total age_group6                  0                 0                   0
#&gt;  8:   male      Total                219             13140                 220
#&gt;  9:   male age_group1                 90              5237                  86
#&gt; 10:   male age_group2                 66              4049                  64
#&gt; 11:   male age_group3                 41              2736                  39
#&gt; 12:   male age_group4                 15               784                  15
#&gt; 13:   male age_group5                  7               334                   9
#&gt; 14:   male age_group6                  0                 0                   0
#&gt; 15: female      Total                226             13280                 224
#&gt; 16: female age_group1                102              5749                 102
#&gt; 17: female age_group2                 57              3381                  59
#&gt; 18: female age_group3                 41              2419                  43
#&gt; 19: female age_group4                 19              1297                  20
#&gt; 20: female age_group5                  7               434                   6
#&gt; 21: female age_group6                  0                 0                   0
#&gt;        sex        age UWC_cnt_highincome WC_cnt_highincome pUWC_cnt_highincome
#&gt;     pWC_cnt_highincome WCavg_cnt_highincome row_indices col_indices pert
#&gt;  1:              26479             59.37079           7          NA    1
#&gt;  2:              10986             57.21875           6          NA    0
#&gt;  3:               7611             60.40650           9          NA    3
#&gt;  4:               5281             62.86585           8          NA    2
#&gt;  5:               2020             61.20588           5          NA   -1
#&gt;  6:                658             54.85714           4          NA   -2
#&gt;  7:                  0              0.00000          -1          NA    0
#&gt;  8:              13200             60.00000           7          NA    1
#&gt;  9:               5004             58.18889           2          NA   -4
#&gt; 10:               3926             61.34848           4          NA   -2
#&gt; 11:               2603             66.73171           4          NA   -2
#&gt; 12:                784             52.26667           6          NA    0
#&gt; 13:                429             47.71429           8          NA    2
#&gt; 14:                  0              0.00000          -1          NA    0
#&gt; 15:              13162             58.76106           4          NA   -2
#&gt; 16:               5749             56.36275           6          NA    0
#&gt; 17:               3500             59.31579           8          NA    2
#&gt; 18:               2537             59.00000           8          NA    2
#&gt; 19:               1365             68.26316           7          NA    1
#&gt; 20:                372             62.00000           5          NA   -1
#&gt; 21:                  0              0.00000          -1          NA    0
#&gt;     pWC_cnt_highincome WCavg_cnt_highincome row_indices col_indices pert
#&gt;         cellKey
#&gt;  1: 0.790696572
#&gt;  2: 0.460135155
#&gt;  3: 0.971490122
#&gt;  4: 0.909099968
#&gt;  5: 0.307395424
#&gt;  6: 0.142575903
#&gt;  7: 0.000000000
#&gt;  8: 0.665727491
#&gt;  9: 0.007291542
#&gt; 10: 0.145382644
#&gt; 11: 0.092450377
#&gt; 12: 0.520240652
#&gt; 13: 0.900362276
#&gt; 14: 0.000000000
#&gt; 15: 0.124969081
#&gt; 16: 0.452843613
#&gt; 17: 0.826107478
#&gt; 18: 0.816649591
#&gt; 19: 0.787154772
#&gt; 20: 0.242213627
#&gt; 21: 0.000000000
#&gt;         cellKey</div><div class='input'>
<span class='co'>## show magnitude tables alog with its modifications</span>
<span class='no'>p_inc</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ck_cont_table.html'>ck_cont_table</a></span>(<span class='no'>res</span>, <span class='kw'>vname</span><span class='kw'>=</span><span class='st'>"income"</span>); <span class='no'>p_inc</span></div><div class='output co'>#&gt;        sex        age UW_income  pUW_income  WS_income pWS_income pWM_income
#&gt;  1:  Total      Total  22952978 22959381.68 1379674440 1380059358   5011.873
#&gt;  2:  Total age_group1   9810547  9812107.76  582698660  582791361   4993.457
#&gt;  3:  Total age_group2   5692119  5677496.90  345884624  344996104   4958.479
#&gt;  4:  Total age_group3   4406946  4424320.24  260795311  261823488   5126.657
#&gt;  5:  Total age_group4   2133543  2122208.64  132057737  131356186   5017.042
#&gt;  6:  Total age_group5    848151   854311.92   54120111   54513237   5085.190
#&gt;  7:  Total age_group6     61672    68936.22    4089328    4571002   5302.786
#&gt;  8:   male      Total  11262049 11271115.92  680623109  681171069   4906.901
#&gt;  9:   male age_group1   4877164  4880213.92  290333008  290514567   4808.093
#&gt; 10:   male age_group2   2811379  2805004.60  173527568  173134119   4921.099
#&gt; 11:   male age_group3   2168169  2168826.88  128525377  128564375   5127.193
#&gt; 12:   male age_group4    978510   977104.62   61194510   61106620   5010.793
#&gt; 13:   male age_group5    393134   405524.92   24809564   25591519   4885.742
#&gt; 14:   male age_group6     33693    34440.98    2228551    2278025   3828.613
#&gt; 15: female      Total  11690929 11688265.76  698891311  698732101   5112.961
#&gt; 16: female age_group1   4933383  4931893.84  292315871  292227634   5169.700
#&gt; 17: female age_group2   2880740  2872492.30  172295448  171802157   5021.840
#&gt; 18: female age_group3   2238777  2255493.36  132271016  133258649   5102.958
#&gt; 19: female age_group4   1155033  1145104.02   70857222   70248114   4957.174
#&gt; 20: female age_group5    455017   448787.00   29354013   28952104   5407.565
#&gt; 21: female age_group6     27979    34495.24    1860604    2293933   4922.604
#&gt;        sex        age UW_income  pUW_income  WS_income pWS_income pWM_income</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/attr'>attr</a></span>(<span class='no'>p_inc</span>, <span class='st'>"modifications"</span>)</div><div class='output co'>#&gt;       id magnitude dir noise vals.orig vals.pert vals.mod
#&gt;  1:   69       0.2   1  1.12      9900   2217.60 12117.60
#&gt;  2:  201       0.6   1  1.28      7650   5875.20 13525.20
#&gt;  3:  311       0.2   1  1.65      9830   3243.90 13073.90
#&gt;  4:  662       0.6  -1  1.46     10000  -8760.00  1240.00
#&gt;  5:  730       0.6   1  1.41      9960   8426.16 18386.16
#&gt;  6:  753       0.4   1  1.35      9990   5394.60 15384.60
#&gt;  7:  787       0.4   1  1.36      9980   5429.12 15409.12
#&gt;  8:  817       0.6  -1  1.16      9970  -6939.12  3030.88
#&gt;  9: 1009       0.4  -1  0.39      9980  -1556.88  8423.12
#&gt; 10: 1024       0.6   1  1.58      9990   9470.52 19460.52
#&gt; 11: 1036       0.4   1  0.71      6330   1797.72  8127.72
#&gt; 12: 1072       0.6  -1  0.31     10000  -1860.00  8140.00
#&gt; 13: 1076       0.6   1  1.62     10000   9720.00 19720.00
#&gt; 14: 1089       0.6  -1  1.26      9960  -7529.76  2430.24
#&gt; 15: 1939       0.2   1  0.94      9980   1876.24 11856.24
#&gt; 16: 1950       0.2   1  1.46      9910   2893.72 12803.72
#&gt; 17: 2300       0.4  -1  1.54      9930  -6116.88  3813.12
#&gt; 18: 2363       0.6  -1  0.91      9990  -5454.54  4535.46
#&gt; 19: 2487       0.2  -1  0.52      9650  -1003.60  8646.40
#&gt; 20: 2684       0.2  -1  0.62      9970  -1236.28  8733.72
#&gt; 21: 2879       0.2  -1  1.02      5670  -1156.68  4513.32
#&gt; 22: 2887       0.2  -1  1.62      9980  -3233.52  6746.48
#&gt; 23: 2932       0.4   1  0.90      9960   3585.60 13545.60
#&gt; 24: 2988       0.4  -1  1.02      6760  -2758.08  4001.92
#&gt; 25: 3027       0.2  -1  1.46      9970  -2911.24  7058.76
#&gt; 26: 3247       0.4   1  1.36      9920   5396.48 15316.48
#&gt; 27: 3298       0.6  -1  1.01      9950  -6029.70  3920.30
#&gt; 28: 3503       0.6   1  0.94      7790   4393.56 12183.56
#&gt; 29: 3514       0.2  -1  0.71      6250   -887.50  5362.50
#&gt; 30: 3891       0.2  -1  1.22      9960  -2430.24  7529.76
#&gt; 31: 3975       0.4  -1  1.25      9910  -4955.00  4955.00
#&gt; 32: 4312       0.4   1  0.58      9870   2289.84 12159.84
#&gt; 33: 4415       0.4  -1  0.86      9990  -3436.56  6553.44
#&gt; 34: 4449       0.4   1  1.00      9810   3924.00 13734.00
#&gt; 35: 4458       0.6   1  0.31      9920   1845.12 11765.12
#&gt; 36: 4518       0.2  -1  1.62      9630  -3120.12  6509.88
#&gt;       id magnitude dir noise vals.orig vals.pert vals.mod</div><div class='input'>
<span class='co'>## create perturbed magnitude table for subgroups of data</span>
<span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'>perturbTable</span>(
  <span class='kw'>inp</span><span class='kw'>=</span><span class='no'>inp_destatis</span>,
  <span class='kw'>dimList</span><span class='kw'>=</span><span class='no'>dimList</span>,
  <span class='kw'>weightVar</span><span class='kw'>=</span><span class='no'>weightVar</span>,
  <span class='kw'>countVars</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"cnt_females"</span>, <span class='st'>"cnt_males"</span>,<span class='st'>"cnt_highincome"</span>),
  <span class='kw'>numVars</span><span class='kw'>=</span><span class='no'>numVars</span>, <span class='kw'>by</span><span class='kw'>=</span><span class='st'>"cnt_males"</span>)

<span class='co'>## the perturbed tables of savings and income are computed only where</span>
<span class='co'>## variable cnt_males is 1</span>
<span class='no'>p_sav</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ck_cont_table.html'>ck_cont_table</a></span>(<span class='no'>res</span>, <span class='kw'>vname</span><span class='kw'>=</span><span class='st'>"savings"</span>); <span class='no'>p_sav</span></div><div class='output co'>#&gt; <span class='message'>Note: this table is restricted to groups defined by 'cnt_males'!</span></div><div class='output co'>#&gt;        sex        age UW_savings pUW_savings WS_savings pWS_savings pWM_savings
#&gt;  1:  Total      Total    1159816 1157820.490 70093601.2  69973002.3    504.0593
#&gt;  2:  Total age_group1     517660  518320.886 30815815.3  30855157.2    510.6610
#&gt;  3:  Total age_group2     280923  279815.904 17339492.5  17271158.9    490.9090
#&gt;  4:  Total age_group3     214970  214976.940 12743056.6  12743467.9    508.2141
#&gt;  5:  Total age_group4      99420   99916.032  6217573.8   6248594.9    512.3899
#&gt;  6:  Total age_group5      43233   42055.736  2728311.1   2654017.3    506.6853
#&gt;  7:  Total age_group6       3610    2734.992   238775.7    180900.2    304.0339
#&gt;  8:   male      Total    1159816 1157820.490 70093601.2  69973002.3    504.0593
#&gt;  9:   male age_group1     517660  518320.886 30815815.3  30855157.2    510.6610
#&gt; 10:   male age_group2     280923  279815.904 17339492.5  17271158.9    490.9090
#&gt; 11:   male age_group3     214970  214976.940 12743056.6  12743467.9    508.2141
#&gt; 12:   male age_group4      99420   99916.032  6217573.8   6248594.9    512.3899
#&gt; 13:   male age_group5      43233   42055.736  2728311.1   2654017.3    506.6853
#&gt; 14:   male age_group6       3610    2734.992   238775.7    180900.2    304.0339
#&gt; 15: female      Total          0       0.000        0.0         0.0      0.0000
#&gt; 16: female age_group1          0       0.000        0.0         0.0      0.0000
#&gt; 17: female age_group2          0       0.000        0.0         0.0      0.0000
#&gt; 18: female age_group3          0       0.000        0.0         0.0      0.0000
#&gt; 19: female age_group4          0       0.000        0.0         0.0      0.0000
#&gt; 20: female age_group5          0       0.000        0.0         0.0      0.0000
#&gt; 21: female age_group6          0       0.000        0.0         0.0      0.0000
#&gt;        sex        age UW_savings pUW_savings WS_savings pWS_savings pWM_savings</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/attr'>attr</a></span>(<span class='no'>p_sav</span>, <span class='st'>"modifications"</span>) <span class='co'># no modifications in cells containing females!</span></div><div class='output co'>#&gt;       id magnitude dir noise vals.orig vals.pert vals.mod
#&gt;  1:    2       0.6  -1  0.81         0     0.000    0.000
#&gt;  2:    6       0.4  -1  0.72         0     0.000    0.000
#&gt;  3:    7       0.6  -1  0.55         0     0.000    0.000
#&gt;  4:    8       0.6  -1  0.80         0     0.000    0.000
#&gt;  5:   10       0.4   1  0.66         0     0.000    0.000
#&gt;  6:   12       0.6  -1  0.78         0     0.000    0.000
#&gt;  7:   13       0.4  -1  1.64         0     0.000    0.000
#&gt;  8:   15       0.2  -1  1.69         0     0.000    0.000
#&gt;  9:   18       0.2  -1  1.59         0     0.000    0.000
#&gt; 10:   19       0.2  -1  1.52         0     0.000    0.000
#&gt; 11:   35       0.4  -1  1.53         0     0.000    0.000
#&gt; 12:   69       0.2   1  1.12         0     0.000    0.000
#&gt; 13:  101       0.6  -1  0.96         0     0.000    0.000
#&gt; 14:  201       0.6   1  1.28         0     0.000    0.000
#&gt; 15:  382       0.4   1  0.87         0     0.000    0.000
#&gt; 16:  425       0.2   1  0.75         0     0.000    0.000
#&gt; 17:  687       0.6   1  0.35       999   209.790 1208.790
#&gt; 18:  817       0.2  -1  1.16       991  -229.912  761.088
#&gt; 19:  984       0.2  -1  0.38       996   -75.696  920.304
#&gt; 20: 1036       0.4   1  0.71         0     0.000    0.000
#&gt; 21: 1041       0.2  -1  1.63       992  -323.392  668.608
#&gt; 22: 1297       0.4  -1  0.83       771  -255.972  515.028
#&gt; 23: 1461       0.2  -1  1.14       995  -226.860  768.140
#&gt; 24: 2144       0.4   1  0.96       998   383.232 1381.232
#&gt; 25: 2177       0.4  -1  0.53       997  -211.364  785.636
#&gt; 26: 2471       0.2   1  0.84         0     0.000    0.000
#&gt; 27: 2652       0.4   1  0.83       995   330.340 1325.340
#&gt; 28: 2845       0.2  -1  0.76       767  -116.584  650.416
#&gt; 29: 2978       0.6  -1  1.11       998  -664.668  333.332
#&gt; 30: 2988       0.6  -1  1.02       821  -502.452  318.548
#&gt; 31: 3452       0.4  -1  0.54       998  -215.568  782.432
#&gt; 32: 3912       0.4  -1  0.52       996  -207.168  788.832
#&gt; 33: 4031       0.6  -1  1.08       998  -646.704  351.296
#&gt; 34: 4258       0.6   1  0.49      1000   294.000 1294.000
#&gt; 35: 4481       0.6   1  0.66       999   395.604 1394.604
#&gt; 36: 4493       0.2   1  0.34       998    67.864 1065.864
#&gt;       id magnitude dir noise vals.orig vals.pert vals.mod</div><div class='input'>
<span class='co'>## export table to a simple data.table</span>
<span class='no'>df_tot</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ck_export_table.html'>ck_export_table</a></span>(<span class='no'>res</span>, <span class='kw'>vname</span><span class='kw'>=</span><span class='st'>"Total"</span>, <span class='kw'>type</span><span class='kw'>=</span><span class='st'>"both"</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/head'>head</a></span>(<span class='no'>df_tot</span>)</div><div class='output co'>#&gt;      sex        age vname  UWC     WC pUWC    pWC
#&gt; 1: Total      Total Total 4580 275298 4581 275358
#&gt; 2: Total age_group1 Total 1969 116949 1965 116711
#&gt; 3: Total age_group2 Total 1143  69455 1145  69577
#&gt; 4: Total age_group3 Total  864  51130  863  51071
#&gt; 5: Total age_group4 Total  423  26182  423  26182
#&gt; 6: Total age_group5 Total  168  10720  168  10720</div><div class='input'><span class='no'>df_inc</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='ck_export_table.html'>ck_export_table</a></span>(<span class='no'>res</span>, <span class='kw'>vname</span><span class='kw'>=</span><span class='st'>"income"</span>, <span class='kw'>type</span><span class='kw'>=</span><span class='st'>"weighted"</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/head'>head</a></span>(<span class='no'>df_inc</span>)</div><div class='output co'>#&gt;      sex        age  vname        WS       pWS
#&gt; 1: Total      Total income 680623109 681171069
#&gt; 2: Total age_group1 income 290333008 290514567
#&gt; 3: Total age_group2 income 173527568 173134119
#&gt; 4: Total age_group3 income 128525377 128564375
#&gt; 5: Total age_group4 income  61194510  61106620
#&gt; 6: Total age_group5 income  24809564  25591519</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Bernhard Meindl.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9000.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

